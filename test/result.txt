Args: /opt/llvm/build/bin/opt -load /home/nicola/dev/TAFFO/dist/usr/local/lib/LLVMFloatToFixed.so -flttofix -globaldce -dce -debug -S -o a.5.magiclangtmp.ll a.4.magiclangtmp.ll 
	discovered a new reachable node %entry
	discovered a new reachable node %for.cond
	discovered a new reachable node %for.body
	discovered a new reachable node %for.inc
	discovered a new reachable node %for.end
Collecting metadata for:  %0 = load double, double* @sum, align 8, !taffo.info !0
Collecting metadata for:  store double %0, double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0), align 16, !taffo.info !13, !taffo.initweight !14, !taffo.constinfo !15
new valueinfo for   store double %0, double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0), align 16, !taffo.info !13, !taffo.initweight !14, !taffo.constinfo !15
Type deducted: u0_0fixp
Collecting metadata for:  %arrayidx = getelementptr inbounds [10 x double], [10 x double]* @array, i64 0, i64 %idxprom, !taffo.info !2, !taffo.initweight !16
new valueinfo for   %arrayidx = getelementptr inbounds [10 x double], [10 x double]* @array, i64 0, i64 %idxprom, !taffo.info !2, !taffo.initweight !16
Type deducted: 0flp
Collecting metadata for:  %1 = load double, double* %arrayidx, align 8, !taffo.info !2, !taffo.initweight !14
new valueinfo for   %1 = load double, double* %arrayidx, align 8, !taffo.info !2, !taffo.initweight !14
Type deducted: 0flp
Collecting metadata for:  %inc = fadd double %1, 1.000000e+00, !taffo.info !2, !taffo.initweight !17, !taffo.constinfo !18
new valueinfo for   %inc = fadd double %1, 1.000000e+00, !taffo.info !2, !taffo.initweight !17, !taffo.constinfo !18
Type deducted: 0flp
Collecting metadata for:  store double %inc, double* %arrayidx, align 8, !taffo.info !13, !taffo.initweight !14
new valueinfo for   store double %inc, double* %arrayidx, align 8, !taffo.info !13, !taffo.initweight !14
Type deducted: u0_0fixp
Collecting metadata for:@sum = common dso_local global double 0.000000e+00, align 8, !taffo.info !0
Collecting metadata for:@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5
new valueinfo for @array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5
Type deducted: 0flp
Collecting metadata for:@.str = private unnamed_addr constant [23 x i8] c"scalar(range(7, 2000))\00", section "llvm.metadata", !taffo.info !6
Collecting metadata for:@.str.1 = private unnamed_addr constant [8 x i8] c"array.c\00", section "llvm.metadata", !taffo.info !8
[V] @array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5
[U]   %arrayidx = getelementptr inbounds [10 x double], [10 x double]* @array, i64 0, i64 %idxprom, !taffo.info !2, !taffo.initweight !16
[WARNING] Value double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0) will not be converted because it has no metadata
new valueinfo for double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0)
[U] double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0)
[WARNING] Value i8* bitcast ([10 x double]* @array to i8*) will not be converted because it has no metadata
new valueinfo for i8* bitcast ([10 x double]* @array to i8*)
[U] i8* bitcast ([10 x double]* @array to i8*)
[V]   store double %0, double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0), align 16, !taffo.info !13, !taffo.initweight !14, !taffo.constinfo !15
[V]   %1 = load double, double* %arrayidx, align 8, !taffo.info !2, !taffo.initweight !14
[U]   %inc = fadd double %1, 1.000000e+00, !taffo.info !2, !taffo.initweight !17, !taffo.constinfo !18
[V]   store double %inc, double* %arrayidx, align 8, !taffo.info !13, !taffo.initweight !14
[V]   %arrayidx = getelementptr inbounds [10 x double], [10 x double]* @array, i64 0, i64 %idxprom, !taffo.info !2, !taffo.initweight !16
[U]   store double %inc, double* %arrayidx, align 8, !taffo.info !13, !taffo.initweight !14
[U]   %1 = load double, double* %arrayidx, align 8, !taffo.info !2, !taffo.initweight !14
[V] double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0)
[U]   store double %0, double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0), align 16, !taffo.info !13, !taffo.initweight !14, !taffo.constinfo !15
[V] i8* bitcast ([10 x double]* @array to i8*)
[WARNING] Value { i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 } will not be converted because it has no metadata
new valueinfo for { i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }
[U] { i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }
[V]   %inc = fadd double %1, 1.000000e+00, !taffo.info !2, !taffo.initweight !17, !taffo.constinfo !18
[U]   store double %inc, double* %arrayidx, align 8, !taffo.info !13, !taffo.initweight !14
[V]   %1 = load double, double* %arrayidx, align 8, !taffo.info !2, !taffo.initweight !14
[U]   %inc = fadd double %1, 1.000000e+00, !taffo.info !2, !taffo.initweight !17, !taffo.constinfo !18
[V]   store double %0, double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0), align 16, !taffo.info !13, !taffo.initweight !14, !taffo.constinfo !15
[V] { i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }
[WARNING] Value [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }] will not be converted because it has no metadata
new valueinfo for [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }]
[U] [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }]
[V]   store double %inc, double* %arrayidx, align 8, !taffo.info !13, !taffo.initweight !14
[V]   %inc = fadd double %1, 1.000000e+00, !taffo.info !2, !taffo.initweight !17, !taffo.constinfo !18
[U]   store double %inc, double* %arrayidx, align 8, !taffo.info !13, !taffo.initweight !14
[V] [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }]
[WARNING] Value @llvm.global.annotations = appending global [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }], section "llvm.metadata" will not be converted because it has no metadata
new valueinfo for @llvm.global.annotations = appending global [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }], section "llvm.metadata"
[U] @llvm.global.annotations = appending global [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }], section "llvm.metadata"
[V]   store double %inc, double* %arrayidx, align 8, !taffo.info !13, !taffo.initweight !14
[V] @llvm.global.annotations = appending global [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }], section "llvm.metadata"
[WARNING] Value double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0) will not be converted because its metadata is incomplete
u0_0fixp
[WARNING] Value i8* bitcast ([10 x double]* @array to i8*) will not be converted because its metadata is incomplete
u0_0fixp
[WARNING] Value { i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 } will not be converted because its metadata is incomplete
u0_0fixp
[WARNING] Value [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }] will not be converted because its metadata is incomplete
u0_0fixp
[WARNING] Value @llvm.global.annotations = appending global [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }], section "llvm.metadata" will not be converted because its metadata is incomplete
u0_0fixp
conversion queue:
bt=0 noconv=0 type=0flp roots=[@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5, ] @array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5
bt=0 noconv=0 type=0flp  fun='main' roots=[@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5, ]   %arrayidx = getelementptr inbounds [10 x double], [10 x double]* @array, i64 0, i64 %idxprom, !taffo.info !2, !taffo.initweight !16
bt=0 noconv=1 type=u0_0fixp roots=[@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5, ] double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0)
bt=0 noconv=1 type=u0_0fixp roots=[@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5, ] i8* bitcast ([10 x double]* @array to i8*)
bt=0 noconv=0 type=0flp  fun='main' roots=[@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5, ]   %1 = load double, double* %arrayidx, align 8, !taffo.info !2, !taffo.initweight !14
bt=0 noconv=0 type=u0_0fixp  fun='main' roots=[@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5, ]   store double %0, double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0), align 16, !taffo.info !13, !taffo.initweight !14, !taffo.constinfo !15
bt=0 noconv=1 type=u0_0fixp roots=[@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5, ] { i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }
bt=0 noconv=0 type=0flp  fun='main' roots=[@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5, ]   %inc = fadd double %1, 1.000000e+00, !taffo.info !2, !taffo.initweight !17, !taffo.constinfo !18
bt=0 noconv=1 type=u0_0fixp roots=[@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5, ] [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }]
bt=0 noconv=0 type=u0_0fixp  fun='main' roots=[@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5, ]   store double %inc, double* %arrayidx, align 8, !taffo.info !13, !taffo.initweight !14
bt=0 noconv=1 type=u0_0fixp roots=[@array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5, ] @llvm.global.annotations = appending global [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }], section "llvm.metadata"



-------------------------------------* performConversion *-------------------------------------
  [no conv ] 0
  [value   ] @array = common dso_local global [10 x double] zeroinitializer, align 16, !taffo.info !2, !taffo.initweight !5
  [output  ] @array.fixp = common global [10 x half] zeroinitializer, align 16
new valueinfo for @array.fixp = common global [10 x half] zeroinitializer, align 16, !taffo.info !2

-------------------------------------* performConversion *-------------------------------------
  [no conv ] 0
  [value   ]   %arrayidx = getelementptr inbounds [10 x double], [10 x double]* @array, i64 0, i64 %idxprom, !taffo.info !2, !taffo.initweight !16
  [function] main
  [output  ]   %arrayidx.0flp = getelementptr inbounds [10 x half], [10 x half]* @array.fixp, i64 0, i64 %idxprom
new valueinfo for   %arrayidx.0flp = getelementptr inbounds [10 x half], [10 x half]* @array.fixp, i64 0, i64 %idxprom, !taffo.info !2

-------------------------------------* performConversion *-------------------------------------
  [no conv ] 1
  [value   ] double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0)
  [output  ] double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0)

-------------------------------------* performConversion *-------------------------------------
  [no conv ] 1
  [value   ] i8* bitcast ([10 x double]* @array to i8*)
  [output  ] i8* bitcast ([10 x double]* @array to i8*)

-------------------------------------* performConversion *-------------------------------------
  [no conv ] 0
  [value   ]   %1 = load double, double* %arrayidx, align 8, !taffo.info !2, !taffo.initweight !14
  [function] main
  [output  ]   %"0flp" = load half, half* %arrayidx.0flp, align 8
new valueinfo for   %"0flp" = load half, half* %arrayidx.0flp, align 8, !taffo.info !2

-------------------------------------* performConversion *-------------------------------------
  [no conv ] 0
  [value   ]   store double %0, double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0), align 16, !taffo.info !13, !taffo.initweight !14, !taffo.constinfo !15
  [function] main
  [output  ]   store double %0, double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0), align 16
new valueinfo for   store double %0, double* getelementptr inbounds ([10 x double], [10 x double]* @array, i64 0, i64 0), align 16, !taffo.info !13, !taffo.constinfo !15

-------------------------------------* performConversion *-------------------------------------
  [no conv ] 1
  [value   ] { i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }
  [output  ] { i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }

-------------------------------------* performConversion *-------------------------------------
  [no conv ] 0
  [value   ]   %inc = fadd double %1, 1.000000e+00, !taffo.info !2, !taffo.initweight !17, !taffo.constinfo !18
  [function] main
  [output  ]   %inc.0flp = fadd half %"0flp", 0xH3C00
new valueinfo for   %inc.0flp = fadd half %"0flp", 0xH3C00, !taffo.info !2, !taffo.constinfo !17

-------------------------------------* performConversion *-------------------------------------
  [no conv ] 1
  [value   ] [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }]
  [output  ] [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }]

-------------------------------------* performConversion *-------------------------------------
  [no conv ] 0
  [value   ]   store double %inc, double* %arrayidx, align 8, !taffo.info !13, !taffo.initweight !14
  [function] main
  [output  ]   store half %inc.0flp, half* %arrayidx.0flp, align 8
new valueinfo for   store half %inc.0flp, half* %arrayidx.0flp, align 8, !taffo.info !13

-------------------------------------* performConversion *-------------------------------------
  [no conv ] 1
  [value   ] @llvm.global.annotations = appending global [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }], section "llvm.metadata"
  [output  ] @llvm.global.annotations = appending global [1 x { i8*, i8*, i8*, i32 }] [{ i8*, i8*, i8*, i32 } { i8* bitcast ([10 x double]* @array to i8*), i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str, i32 0, i32 0), i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.1, i32 0, i32 0), i32 3 }], section "llvm.metadata"
void flttofix::FloatToFixed::closePhiLoops() begin
void flttofix::FloatToFixed::closePhiLoops() end
	discovered a new reachable node %entry
	discovered a new reachable node %for.cond
	discovered a new reachable node %for.body
	discovered a new reachable node %for.inc
	discovered a new reachable node %for.end
/usr/bin/ld: /tmp/a-8d2cce.o: in function `main':
array.c:(.text+0x41): undefined reference to `__gnu_h2f_ieee'
/usr/bin/ld: array.c:(.text+0x52): undefined reference to `__gnu_f2h_ieee'
clang-8: error: linker command failed with exit code 1 (use -v to see invocation)
