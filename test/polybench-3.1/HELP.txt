How to test polybench
=====================

1. cd polybench-3.1 (IMPORTANT!!!)
2. Ensure that LLVM_DIR is set to a valid install of llvm 4.0 with clang
   (for example LLVM_DIR=/usr/lib/llvm-4.0)
   You can use llvm-config --prefix
3. Compile the benchmarks with the compile_* scripts
4. Execute ulimit -s unlimited (optional; if some test crashes do it)
5. Execute the chkval_* scripts to automatically run the benchmarks

To generate a data file with the results of all the benchmarks use 
chkval_everything.sh and pipe the output to the file. Using the other scripts
for this purpose adds extra unnecessary table headers, misaligned columns and
ANSI escapes, while chkval_everything.sh does not have these problems.


Options for the compile_* scripts (also for compile_everything.sh)
------------------------------------------------------------------

Some additional options are available at compile time. Specify them on the
command line.

64bit       Doubles the size of every fixed point value (fractional part 
            included) and sets the floating point type to double.
*_DATASET   Where * can be MINI, SMALL, STANDARD, LARGE, EXTRALARGE
            Forces all benchmarks to be compiled with the specified dataset
            size.
--only=<x>  Build benchmark <x> only
--frac=<x>  Force the fractional bits to <x> for all benchmarks being compiled
--tot=<x>   Force the total fixed point bits to <x> for all benchmarks being 
            compiled
            
Example: ./compile_datamining.sh 64bit MINI_DATASET
         Compiles the benchmarks in the datamining folder using doubles/64-bit
         fixed point, and set the dataset size to MINI.
            
            
Options for the chkval_* scripts (except for chkval_everything.sh)
------------------------------------------------------------------

You can specify the name of a benchmark on the command line to test just that
benchmark.

If $FORMAT is set, the specified format will be used to print every row of
the data table. If $NOHEADER is set to a non-empty string, the header will not
be printed.
